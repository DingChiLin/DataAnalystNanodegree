<!DOCTYPE html>
<html>
<head>
  <script src="https://d3js.org/d3.v3.min.js" charset="utf-8"></script>
</head>
<body>

<h1>My First JavaScript</h1>
<p id="demo"></p>

<svg class="chart"></svg>

</body>
</html>

<style>

.chart {
  width: 100%;
  height: 1000px;
}

</style>

<script>

var data = [];

data[0] = [{"x": 100, "y": 120}, {"x": 100, "y": 250}];
data[1] = [{"x": 130, "y": 120}, {"x": 100, "y": 300}, {"x": 100, "y": 400}];
data[2] = [{"x": 350, "y": 120}];
data[3] = [{"x": 350, "y": 350}];
data[4] = [{"x": 500, "y": 500},{"x": 550, "y": 550},{"x": 600, "y": 600},{"x": 650, "y": 650}];

console.log(data[0]);

data2 = [{"x": 100, "y": 120}, {"x": 100, "y": 250}];

drawCircle(data[0]);
drawCircle(data[1]);
drawCircle(data[4]);
//removeCircle(data[3]);

setTimeout(alertFunc, 1000);

function alertFunc() {
  removeCircle(data[3]);
}

function drawCircle(data){
  var svg = d3.select(".chart");
  var circle = svg.selectAll("circle");

  circle = circle.data(data);

  circle.exit().remove()

  circle.enter().append("circle")
    .attr("r", 10)
  .transition()
    .attr("r", 25);

  circle
    .attr("cx", function(d) { return d.x; })
    .attr("cy", function(d) { return d.y; });
}

function updateCircle(data){
  var svg = d3.select(".chart");
  var circle = svg.selectAll("circle");

  circle = circle.data(data);

  circle
    .attr("cx", function(d) { return d.x; })
    .attr("cy", function(d) { return d.y; });

}

function removeCircle(data){
  console.log('remove');
  var svg = d3.select(".chart");
  var circle = svg.selectAll("circle");

  circle = circle.data(data);

  circle.exit()
    .transition()
    .attr("r", 0)
    .remove();
}


</script>
